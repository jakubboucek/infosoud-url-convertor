import{c as R}from"./chunk-EESQNAQ6.js";import{c as f,d}from"./chunk-4PAPZGIZ.js";import{b as l,g as m,kb as p,n as o,q as a,xb as c}from"./chunk-XOZ5UXZ7.js";import{d as r}from"./chunk-DGAILPFQ.js";var h=class i extends d{constructor(){super()}vyhledejRizeni(e){return r(this,null,function*(){return m(this.client.post(`${this.apiUrl}/rizeni/vyhledej`,e))})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var y=class i{constructor(e,t,s){this.api=e;this.router=t;this.loading=s}errorMessage=new l("");cachedQuery=void 0;cached=null;resolve(e){return r(this,null,function*(){if(e.queryParams){let t=JSON.stringify(e.queryParams),s=e.queryParams;return(this.cachedQuery!=t||!this.cached)&&(this.loading.$isLoading.next(!0),yield this.api.vyhledejRizeni(s).then(n=>{this.cachedQuery=t,this.cached={rizeni:n,searchData:s},this.errorMessage.next("")}).catch(n=>{this.router.navigateByUrl(c.informaceORizeni.fullPath),this.errorMessage.next(n.message)}).finally(()=>{this.loading.$isLoading.next(!1)})),this.cached}this.router.navigateByUrl(c.informaceORizeni.fullPath),this.errorMessage.next("RIZENI_0001")})}static \u0275fac=function(t){return new(t||i)(a(h),a(p),a(f))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var u=class i extends d{constructor(){super()}vyhledejUdalost(e){return r(this,null,function*(){return m(this.client.post(`${this.apiUrl}/udalost/vyhledej`,e))})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var S=class i{constructor(e,t,s){this.api=e;this.router=t;this.loading=s}errorMessage=new l("");resolve(e){return r(this,null,function*(){if(e.queryParams){let t=e.queryParams;this.loading.$isLoading.next(!0);let s=new R;return yield this.api.vyhledejUdalost(t).then(n=>{s=n}).catch(n=>{this.router.navigateByUrl(c.informaceORizeni.fullPath),this.errorMessage.next(n.message)}).finally(()=>{this.loading.$isLoading.next(!1)}),s}this.router.navigate(c.informaceORizeni.fullPath),this.errorMessage.next("UDALOST_0001")})}static \u0275fac=function(t){return new(t||i)(a(u),a(p),a(f))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{y as a,S as b};
