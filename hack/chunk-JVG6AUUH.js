import{a as A,b as H}from"./chunk-J6ZJB5ZC.js";import{a as J,b as I,d as W}from"./chunk-EESQNAQ6.js";import{a as _}from"./chunk-KGCXKL6P.js";import"./chunk-YLXLMOMV.js";import{a as q}from"./chunk-FMAJUKQD.js";import{w as F,x as $,y as L}from"./chunk-GI74UHXH.js";import{$ as o,Ba as O,Da as p,E as a,Ea as h,Fa as f,G as m,H as w,Qa as U,Ua as T,X as C,Y as D,Z as x,_ as u,aa as c,ba as R,ga as P,ha as k,hb as E,ia as d,kb as j,lb as B,qa as s,ra as z,rb as G,sa as y,sb as Z,t as v,u as g,xb as S,za as N}from"./chunk-XOZ5UXZ7.js";import"./chunk-EJXKHW6O.js";import{a as V,b as M}from"./chunk-DGAILPFQ.js";var X=r=>({zruseno:r});function Q(r,i){if(r&1&&(o(0,"a",10)(1,"span"),s(2),p(3,"date"),c()()),r&2){let e=i.$implicit,t=d().$implicit,n=d();u("routerLink",n.routesSetting.detailUdalosti.fullPath)("queryParams",n.getNavazujiciJednaniData(t,e)),a(2),z(f(3,3,e.datum,"dd.MM.yyyy"))}}function Y(r,i){if(r&1){let e=P();o(0,"tr")(1,"td",5),k("keypress",function(n){let l=v(e).$implicit,b=d();return g(b.onClick(n,l))})("click",function(n){let l=v(e).$implicit,b=d();return g(b.onClick(n,l))}),o(2,"div",6)(3,"gov-tooltip",7),s(4,"?"),c(),o(5,"span",8),s(6),p(7,"nazevUdalosti"),c()()(),o(8,"td",4)(9,"div",9)(10,"span",8),s(11),p(12,"date"),c(),D(13,Q,4,6,"a",10,C),c()()()}if(r&2){let e=i.$implicit,t=d();a(3),u("message",t.getTooltipUdalosti(e))("position","bottom"),a(2),u("ngClass",O(12,X,e.zruseno)),a(),z(f(7,6,e.udalost,t.rizeniData.typOrganizace)),a(4),u("ngClass",O(14,X,e.zruseno)),a(),z(f(12,9,e.datum,"dd.MM.yyyy")),a(2),x(e.jednani)}}function ee(r,i){if(r&1){let e=P();o(0,"tr")(1,"td",11),k("keypress",function(n){v(e);let l=d();return g(l.onClick(n,l.udalost))})("click",function(n){v(e);let l=d();return g(l.onClick(n,l.udalost))}),o(2,"span"),s(3),p(4,"i18next"),c()(),o(5,"td",4)(6,"a",10),s(7),p(8,"slozeniZnacky"),c()()()}if(r&2){let e=i.$implicit,t=d();a(3),z(t.isNavazujiciVec()?"rizeni:labels.navazujiciVec":h(4,4,"rizeni:labels.senatniVec")),a(3),u("routerLink",t.routesSetting.detailRizeni.fullPath)("queryParams",t.getNavazujiciVecData(e)),a(),y(" ",h(8,6,e)," ")}}var K=class r{constructor(i,e,t,n,l){this.route=i;this.router=e;this.breadcrumbService=t;this.i18next=n;this.slozeniZnackyPipe=l}data;rizeniData=new J;searchData=new I;udalosti=[];navazneVeci=[];routesSetting=S;ngOnInit(){this.route.data.subscribe(i=>{this.data=i.data,this.rizeniData=this.data?.rizeni,this.searchData=this.data?.searchData,this.udalosti=this.rizeniData?.udalosti??[],this.navazneVeci=this.rizeniData?.navazneVeci??[],this.setLabel()})}setLabel(){if(this.rizeniData){let i=`${this.i18next.t("common:menu.detailRizeni")} ${this.slozeniZnackyPipe.transform(this.rizeniData)}`;this.breadcrumbService.setLabel({"cs-CZ":i,"en-EN":i})}}onClick(i,e){if(i.target?.attributes["aria-describedby"]?.value?.startsWith("GovContentTooltip"))return;let t=M(V({},this.searchData),{udalostId:e.udalostId,druhUdalosti:e.udalost,poradiUdalosti:e.poradi,cisloSenatuId:this.searchData?.cisloSenatu==e.znackaId?.cisloSenatu?null:e.znackaId?.cisloSenatu,druhVeciId:this.searchData?.druhVeci?.toLocaleUpperCase()==e.znackaId?.druhVeci?.toLocaleUpperCase()?null:e.znackaId?.druhVeci,bcVecId:this.searchData?.bcVec==e.znackaId?.bcVec?null:e.znackaId?.bcVec,rocnikId:this.searchData?.rocnik==e.znackaId?.rocnik?null:e.znackaId?.rocnik,organizaceId:e.znackaId?.organizace});this.router.navigate([S.detailUdalosti.fullPath],{queryParams:t})}getStavRizeni(){return this.rizeniData?.stav?this.rizeniData?.stavDatum?`${this.rizeniData.stav} (${this.i18next.t("common:labels.od").toLowerCase()} ${this.rizeniData.stavDatum})`:this.rizeniData.stav:this.i18next.t("rizeni:labels.neuvedeno")}getTooltipUdalosti(i){if(i?.udalost){let e="rizeni:udalost.tooltip.";return this.rizeniData.typOrganizace=="ns"&&(e="rizeni:udalost.ns.tooltip."),this.i18next.t(e+i.udalost)}}isNavazujiciVec(){return this.rizeniData.druh=="RO"||this.rizeniData.druh=="SM"}getNavazujiciVecData(i){let e=this.searchData,t=new I;return t.bcVec=i.bcVec,t.druhVeci=i.druhVeci,t.cisloSenatu=i.cisloSenatu,t.rocnik=i.rocnik,t.okresniSoud=i.organizace,t.druhOrganizace=e.druhOrganizace,t.typOrganizace=e.typOrganizace,t}getNavazujiciJednaniData(i,e){let t=this.searchData,n=new W;return n.bcVec=this.rizeniData.bcVec,n.druhVeci=this.rizeniData.druh,n.cisloSenatu=this.rizeniData.cislo,n.rocnik=this.rizeniData.rocnik,n.okresniSoud=t.okresniSoud,n.druhOrganizace=t.druhOrganizace,n.typOrganizace=t.typOrganizace,n.poradiUdalosti=e.poradiUdalosti,n.druhUdalosti=i.udalost,n}static \u0275fac=function(e){return new(e||r)(m(E),m(j),m(q),m(G),m(_))};static \u0275cmp=w({type:r,selectors:[["app-detail-rizeni"]],features:[N([_])],decls:19,vars:11,consts:[[3,"data"],[3,"size"],[1,"table-container"],[1,"cell-xl"],[1,"cell-l"],[1,"cell-xl","cell-udalost",3,"keypress","click"],[1,"udalostPopisWrap"],[3,"message","position"],[3,"ngClass"],[1,"hodnota-udalosti-wrap"],[3,"routerLink","queryParams"],[1,"cell-xl",3,"keypress","click"]],template:function(e,t){e&1&&(o(0,"app-detail-rizeni-wrapper",0)(1,"div")(2,"strong"),s(3),p(4,"i18next"),c()(),R(5,"gov-spacer",1),o(6,"div",2)(7,"table")(8,"tr")(9,"th",3),s(10),p(11,"i18next"),c(),o(12,"th",4),s(13),p(14,"i18next"),c()(),D(15,Y,15,16,"tr",null,C),D(17,ee,9,8,"tr",null,C),c()()()),e&2&&(u("data",t.rizeniData),a(3),z(h(4,5,"rizeni:labels.prubehRizeni")),a(2),u("size","s"),a(5),y(" ",h(11,7,"common:labels.udalost")," "),a(3),y(" ",h(14,9,"common:labels.datum")," "),a(2),x(t.udalosti),a(2),x(t.navazneVeci))},dependencies:[A,L,F,$,U,B,Z,T,_,H],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:50%}.hidden[_ngcontent-%COMP%]{visibility:hidden}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;box-shadow:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;color:var(--gov-color-blue);background-color:var(--gov-color-grey-inactive);-webkit-user-select:none;user-select:none}@media screen and (min-width: 1280px){table[_ngcontent-%COMP%]{width:60%}}.udalostPopisWrap[_ngcontent-%COMP%]{display:flex;gap:.5rem}gov-tooltip[_ngcontent-%COMP%]{font-size:120%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.3rem;text-align:left}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid var(--gov-color-grey-light);border-collapse:collapse}tr[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-200)}.cell-udalost[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   .cell-xs[_ngcontent-%COMP%]{width:3rem}table[_ngcontent-%COMP%]   .cell-s[_ngcontent-%COMP%]{width:6rem}table[_ngcontent-%COMP%]   .cell-m[_ngcontent-%COMP%]{width:4rem}table[_ngcontent-%COMP%]   .cell-l[_ngcontent-%COMP%]{width:12rem}.stav-rizeni-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media screen and (min-width: 1280px){.stav-rizeni-top[_ngcontent-%COMP%]{place-content:space-between;gap:0}}.zruseno[_ngcontent-%COMP%]{color:#6e6e6e!important}.hodnota-udalosti-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};export{K as DetailRizeniComponent};
