import{a as m,b as T,c as i,d as l,e as v}from"./chunk-Q7Z5JY36.js";import"./chunk-U6RUF4PF.js";import{a as p}from"./chunk-JP3GQN42.js";import"./chunk-IQJXNMFO.js";import{a as P}from"./chunk-LKJJUXZI.js";import{b as u}from"./chunk-GBQR2AAJ.js";import{e as r}from"./chunk-LIHFUAJH.js";import"./chunk-6RTS56CQ.js";import{c as L}from"./chunk-P3TDJWC7.js";import{a as w,b as a,c as A,d as E}from"./chunk-EJXKHW6O.js";import{d as C}from"./chunk-DGAILPFQ.js";var B=class{constructor(t){w(this,t),this.tooltipContentId=void 0,this.tooltipId=void 0,this.color=m.PRIMARY,this.size=T._M,this.position="right",this.message=void 0,this.identifier=void 0,this.icon=void 0,this.persist=!1,this.h=L(this.host),this.tooltipId=u("GovTooltip"),this.tooltipContentId=u("GovContentTooltip")}validateColor(t){p(m,t,l.root)}validateSize(t){p(T,t,l.root)}validatePosition(t){p(i,t,l.root)}rerenderMessage(){this.createContentWrapper()}connectedCallback(){this.createContentWrapper(),this.registerListeners()}componentWillLoad(){this.validateColor(this.color),this.validateSize(this.size),this.validatePosition(this.position)}componentDidUpdate(){this.createContentWrapper()}disconnectedCallback(){this.removeContent()}createContentWrapper(){var t;if(this.tooltipContent){this.message?this.tooltipContent.innerHTML=this.message:this.insideContent&&(this.tooltipContent.innerHTML=this.insideContent.innerHTML);return}let o;this.insideContent?o=this.insideContent:(o=r().createElement(v.root),o.innerHTML=this.message),o.setAttribute("id",(t=this.identifier)!==null&&t!==void 0?t:this.tooltipContentId),o.setAttribute("parent-id",this.tooltipId),o.setAttribute("color",this.color),o.setAttribute("size",this.size),r().body.appendChild(o)}get tooltipContent(){var t;return r().body.querySelector(`#${(t=this.identifier)!==null&&t!==void 0?t:this.tooltipContentId}`)}get insideContent(){return this.host.querySelector(v.root)}registerListeners(){this.host.addEventListener("click",t=>{t.preventDefault(),this.persist=!0,this.tooltipContent&&this.tooltipContent.setAttribute("persist","true"),this.showTooltip()}),this.host.addEventListener("mouseenter",t=>{t.preventDefault(),this.showTooltip()}),this.host.addEventListener("mouseleave",t=>{t.preventDefault(),this.persist===!1&&this.hideTooltip()})}verifyPositionSpace(){let o=window.innerWidth-(window.innerWidth-document.documentElement.clientWidth),h=this.host.getBoundingClientRect(),f=this.host.offsetWidth,g=this.host.offsetHeight,n=this.tooltipContent.offsetWidth,b=this.tooltipContent.offsetHeight,e={left:h.left+document.documentElement.scrollLeft,top:h.top+document.documentElement.scrollTop},d=e.left+12+h.width+n<=o,c=e.left>n;if((this.position===i.LEFT||this.position===i.RIGHT)&&(this.tooltipContent.style.top=e.top-(b-g)/2+"px",d===!1&&c===!1&&(this.position=i.TOP,this.tooltipContent.setAttribute("position",i.TOP)),c&&d===!1&&this.position===i.RIGHT&&(this.position=i.LEFT),d&&c===!1&&this.position===i.LEFT&&(this.position=i.RIGHT)),this.position===i.RIGHT&&(this.tooltipContent.setAttribute("position",i.RIGHT),this.tooltipContent.style.left=e.left+12+h.width+"px"),this.position===i.LEFT&&(this.tooltipContent.setAttribute("position",i.LEFT),this.tooltipContent.style.left=e.left-(n+12)+"px"),this.position===i.TOP||this.position===i.BOTTOM)if(n>f){let s=e.left-(n-f)/2,y=s<0,I=s+n>o;y&&I?(this.tooltipContent.style.width="auto",this.tooltipContent.style.left="12px",this.tooltipContent.style.right="12px"):(y&&(s=12),I&&(s=s-(o-(s+n+12))*-1),this.tooltipContent.style.left=s+"px")}else{let s=e.left+(f-n)/2;this.tooltipContent.style.left=s+"px"}this.position===i.TOP&&(this.tooltipContent.setAttribute("position",i.TOP),this.tooltipContent.style.top=e.top-(b+12)+"px"),this.position===i.BOTTOM&&(this.tooltipContent.setAttribute("position",i.BOTTOM),this.tooltipContent.style.top=e.top+(g+12)+"px"),this.tooltipContent.style.opacity="1"}showTooltip(){this.tooltipContent&&(this.tooltipContent.style.opacity="0",this.tooltipContent.hidden=!1,this.tooltipContent.setAttribute("is-visible","true"),P(()=>{this.verifyPositionSpace()}))}hideTooltip(){this.tooltipContent&&(this.tooltipContent.setAttribute("is-visible","false"),this.tooltipContent.setAttribute("persist","false"),this.tooltipContent.removeAttribute("style"))}removeContent(){let t=document.getElementById(this.tooltipContentId);t&&t.remove()}render(){var t;return a(A,{key:"8bb512960020b0945a8f54f5c6bd52062b426a26",id:this.tooltipId,class:this.h.classes(l.root),position:this.position},a("span",{key:"d47065c5bef5f580101322a95e18905ec489ce29",role:"button",tabindex:0,onKeyPress:()=>this.showTooltip(),onBlur:()=>{this.persist===!1&&this.hideTooltip()},"aria-describedby":(t=this.identifier)!==null&&t!==void 0?t:this.tooltipContentId},a("slot",{key:"a206caa511be168a6df2a34110b2aeeffe732354"})))}show(){return C(this,null,function*(){this.showTooltip()})}hide(){return C(this,null,function*(){this.persist=!1,this.hideTooltip()})}get host(){return E(this)}static get watchers(){return{color:["validateColor"],size:["validateSize"],position:["validatePosition"],message:["rerenderMessage"]}}};export{B as gov_tooltip};
