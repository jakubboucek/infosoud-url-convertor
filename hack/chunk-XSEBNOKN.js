import{b as l}from"./chunk-HX4KMO3P.js";import{f as m,g as i,n as p}from"./chunk-NU3G6TKL.js";import"./chunk-NPJI3NXB.js";import"./chunk-WKW43YXK.js";import"./chunk-RD2YFS4Q.js";import"./chunk-U6RUF4PF.js";import{a as b}from"./chunk-ERDFSRFI.js";import{a as d,c as u}from"./chunk-AMU5WJXW.js";import{a as c}from"./chunk-JP3GQN42.js";import"./chunk-IQJXNMFO.js";import{a as f}from"./chunk-LKJJUXZI.js";import"./chunk-RBSNMEOH.js";import{b as v}from"./chunk-GBQR2AAJ.js";import"./chunk-LIHFUAJH.js";import"./chunk-6RTS56CQ.js";import{c as h,d as o,e as r}from"./chunk-P3TDJWC7.js";import{a as g,b as e,c as A,d as C,e as n}from"./chunk-EJXKHW6O.js";import{d as a}from"./chunk-DGAILPFQ.js";var D=class{constructor(t){g(this,t),this.govFocus=n(this,"gov-focus",7),this.govBlur=n(this,"gov-blur",7),this.govChange=n(this,"gov-change",7),this.value=void 0,this.options=void 0,this.identifier=void 0,this.size="m",this.name=void 0,this.required=!1,this.success=void 0,this.disabled=!1,this.invalid=void 0,this.focused=void 0,this.optionsState=[],this.inheritedAttributes={},this.h=h(this.host),this.f=p(this.h),this.selectId=v("GovSelect")}validateSize(t){c(m,t,i.root)}watchOptions(t){this.optionsState=l(t)}watchControlAttrs(){this.passControlAttrs()}watchValue(){this.markSelectedValue()}passControlAttrs(){this.f.passAttrToControl("size",this.size),this.f.passAttrToControl("invalid",o(this.invalid)),this.f.passAttrToControl("success",o(this.success)),this.f.passAttrToControl("disabled",o(this.disabled)),this.f.passAttrToControl("type","select")}componentDidLoad(){this.attributeObserver=new u(this.host,(t,s)=>{this.onAriaAttributeChange(t,s)}),this.attributeObserver.startObserving(d)}disconnectedCallback(){var t;(t=this.attributeObserver)===null||t===void 0||t.stopObserving()}componentWillLoad(){this.validateSize(this.size),this.markSelectedValue(),this.optionsState=l(this.options),this.inheritedAttributes=b(this.host)}componentDidRender(){return a(this,null,function*(){this.passControlAttrs(),this.f.passAttrToLabel("required",String(this.required)),f(()=>this.markSelectedValue())})}onAriaAttributeChange(t,s){this.host.removeAttribute(t),this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[t]:s})}markSelectedValue(){this.host.querySelectorAll("option").forEach(t=>{t.value===this.value?t.setAttribute("selected","selected"):t.removeAttribute("selected")})}render(){return e(A,{key:"ece22604354a3bc7b27aebb52b767e720c470fb2",class:i.root,size:this.size},this.h.hasSlot("prefix")&&e("slot",{key:"fdff42c0ad6111e691b8246a8cbe3d77cbb9ab94",name:"prefix"}),e("span",{key:"726341bdd8a76bb6dde8af330505d97273007bb3",class:"element"},e("select",Object.assign({key:"cb51afcb898b91f87236cdfd416cd26013e01fc7",id:this.identifier||this.selectId,onFocus:this.onFocusHandler.bind(this),onChange:this.onChangeHandler.bind(this),onBlur:this.onBlurHandler.bind(this),required:this.required,name:this.name,disabled:this.disabled,ref:t=>this.selectRef=t},this.inheritedAttributes,{"aria-disabled":r(this.disabled),"aria-required":r(this.required),"aria-invalid":r(this.invalid)}),e("slot",{key:"8a81f952601ac949f68047eca18cd7aab61f5ffa"}),Array.isArray(this.optionsState)&&this.optionsState.map(t=>{var s;return e("option",{value:t.value,selected:t.value===this.value,disabled:t?.disabled},(s=t.label)!==null&&s!==void 0?s:t.value)})),this.success&&e("gov-icon",{key:"4567f0e75b9f9b9eba7a2a624107699ee531c580",class:"validation-icon",name:"check-lg",type:"components"}),this.invalid&&e("gov-icon",{key:"818e5fe59f78b86280abdf117cb9b786e9ac103a",class:"validation-icon",name:"exclamation-lg",type:"components"}),e("gov-icon",{key:"9705a3e034da03543a074eb206224f3e63236b7c",class:"arrow-icon",name:"chevron-down",type:"components"})),this.h.hasSlot("sufix")&&e("slot",{key:"dd8fcce83d933ce39a8195d288472d013f708870",name:"sufix"}))}onFocusHandler(t){this.focused=!0,this.govFocus.emit({component:i.root,originalEvent:t,value:this.value})}onBlurHandler(t){this.focused=!1,this.govBlur.emit({component:i.root,originalEvent:t,value:this.value})}onChangeHandler(t){this.value=t.target.value,t.stopPropagation(),this.govChange.emit({component:i.root,originalEvent:t,value:this.value})}setFocus(t){return a(this,null,function*(){return this.selectRef.focus(t)})}getRef(){return a(this,null,function*(){return this.selectRef})}get host(){return C(this)}static get watchers(){return{size:["validateSize","watchControlAttrs"],options:["watchOptions"],disabled:["watchControlAttrs"],invalid:["watchControlAttrs"],success:["watchControlAttrs"],value:["watchValue"]}}};export{D as gov_form_select};
