import{a as U,b as q}from"./chunk-CBXHCM76.js";import{b as R}from"./chunk-EESQNAQ6.js";import{a as X,b as $,d as ee,e as ie,g as te,h as ne,i as ae,j as re,k as le,l as me}from"./chunk-3KPTIKMA.js";import{a as Q,b as oe}from"./chunk-YLXLMOMV.js";import{a as j,b as J}from"./chunk-TCVD7364.js";import{c as K,d as F,f as Z,j as G,w as E,y as I}from"./chunk-GI74UHXH.js";import"./chunk-4PAPZGIZ.js";import{$ as r,Da as l,E as n,Ea as m,G as y,H as x,V as P,W as L,_ as h,aa as a,ba as d,cb as N,eb as W,ga as B,ha as C,ia as k,kb as A,oa as T,qa as o,ra as c,rb as H,sa as w,sb as b,t as f,u,ua as z,va as _,wa as S,xb as Y}from"./chunk-XOZ5UXZ7.js";import"./chunk-EJXKHW6O.js";import{a as O,d as D}from"./chunk-DGAILPFQ.js";var V=class v{static \u0275fac=function(s){return new(s||v)};static \u0275cmp=x({type:v,selectors:[["app-informace-o-rizeni-popis-stranky"]],decls:49,vars:39,consts:[["size","m"],["size","l"],[1,"prikladZadaniRizeniWrap"],["src","assets/img/prikladZadaniRizeni.png","alt","P\u0159\xEDklad zad\xE1n\xED \u0159\xEDzen\xED",1,"prikladZadaniRizeniImage"]],template:function(s,e){s&1&&(r(0,"p")(1,"strong"),o(2),l(3,"i18next"),a()(),d(4,"gov-spacer",0),r(5,"p"),o(6),l(7,"i18next"),a(),d(8,"gov-spacer",0),r(9,"p")(10,"strong"),o(11),l(12,"i18next"),a(),o(13),l(14,"i18next"),a(),d(15,"gov-spacer",0),r(16,"p")(17,"strong"),o(18),l(19,"i18next"),a(),o(20),l(21,"i18next"),a(),r(22,"ul")(23,"li"),o(24),l(25,"i18next"),a(),r(26,"li"),o(27),l(28,"i18next"),a(),r(29,"li"),o(30),l(31,"i18next"),a(),r(32,"li"),o(33),l(34,"i18next"),a()(),d(35,"gov-spacer",0),r(36,"p"),o(37),l(38,"i18next"),d(39,"app-fragment-tlacitko-filtru"),o(40),l(41,"i18next"),a(),d(42,"gov-spacer",1),r(43,"div",2)(44,"span"),o(45),l(46,"i18next"),a(),d(47,"img",3),a(),d(48,"gov-spacer",0)),s&2&&(n(2),c(m(3,13,"rizeni:labels.informace1")),n(4),c(m(7,15,"rizeni:labels.informace2")),n(5),c(m(12,17,"rizeni:labels.informace3a")),n(2),c(m(14,19,"rizeni:labels.informace3b")),n(5),c(m(19,21,"rizeni:labels.informace4a")),n(2),c(m(21,23,"rizeni:labels.informace4b")),n(4),c(m(25,25,"rizeni:labels.informace4li1")),n(3),c(m(28,27,"rizeni:labels.informace4li2")),n(3),c(m(31,29,"rizeni:labels.informace4li3")),n(3),c(m(34,31,"rizeni:labels.informace4li4")),n(4),w("",m(38,33,"rizeni:labels.informace5a")," "),n(3),w(" ",m(41,35,"rizeni:labels.informace5b")),n(5),c(m(46,37,"rizeni:labels.prikladZadaniRizeni")))},dependencies:[I,E,ne,b],styles:[".prikladZadaniRizeniWrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-style:solid;border-width:1px;padding:.75rem;background-color:#d3d3d3}.prikladZadaniRizeniImage[_ngcontent-%COMP%]{vertical-align:middle;width:50%}"]})};function ge(v,i){if(v&1&&d(0,"hedgehog-gov-message",23)(1,"gov-spacer",7),v&2){let s=k();h("message",s.formErrorMessage)("color","error")}}function fe(v,i){if(v&1){let s=B();r(0,"div",10)(1,"label",24),o(2),l(3,"i18next"),a(),r(4,"hedgehog-gov-select",12),S("valueChange",function(p){f(s);let g=k();return _(g.formData.agenda,p)||(g.formData.agenda=p),u(p)}),a()()}if(v&2){let s=k();n(2),c(m(3,6,"common:labels.agenda")),n(2),h("id","agenda")("titleKey","nazev")("valueKey","kod")("listData",s.agendy),z("value",s.formData.agenda)}}var M=0,se=class v{constructor(i,s,e,p,g,t,ue,he,ve,ye){this.i18nextService=i;this.organizaceApi=s;this.spisovaZnackaApi=e;this.errorParser=p;this.router=g;this.cache=t;this.formValidation=ue;this.detailRizeniResolver=he;this.detailUdalostiRedolver=ve;this.enumDataBuilder=ye}formErrorMessage="";loadingMessage="";isLoading=!1;formData=new R;organizace=[];typOrganizace=[];okresniSoudy=[];agendy=[];znackaDruhyVeci=[];znackaDruhyVeciKod=[];initialLoaded=!1;ngOnInit(){this.isLoading=!0,this.handleRouteEvents(),Promise.all([this.organizaceApi.getOrganizeceLov(),this.enumDataBuilder.getTypyOrganizaceLov(),this.spisovaZnackaApi.getDruhSpisoveZnackyLovKod("rizeni"),this.enumDataBuilder.getAgendyLov()]).then(i=>D(this,null,function*(){this.initialLoaded=!0,this.organizace=[{nazev:this.i18nextService.t("common:options.druhOrganizaceDefault"),kod:null}],this.organizace.push(...i[0]),this.typOrganizace=i[1],this.znackaDruhyVeci=i[2],this.znackaDruhyVeciKod=this.znackaDruhyVeci.map(s=>s.kod),this.agendy=i[3],this.cache.exists(M)&&(yield this.loadData(this.cache.get(M,R))),this.okresniSoudy.length==0&&(yield this.onDruhOrganizaceSelect(null))})).catch(()=>{this.formErrorMessage=this.i18nextService.t("common:messages.DATA_LOADING_ERROR_0000")}).finally(()=>{this.isLoading=!1})}handleRouteEvents(){this.detailRizeniResolver.errorMessage.subscribe(i=>{this.handleResolverMessage(i)}),this.detailUdalostiRedolver.errorMessage.subscribe(i=>{this.handleResolverMessage(i)}),this.router.events.subscribe(i=>{i instanceof W&&i.error&&this.handleResolverMessage(i?.error),i instanceof N&&(this.formErrorMessage="")})}handleResolverMessage(i){return D(this,null,function*(){i&&(this.formErrorMessage=this.errorParser.getParsedMessageString("rizeni:messages",i))})}loadData(i){return D(this,null,function*(){yield this.onDruhOrganizaceSelect(i?.druhOrganizace),this.formData=i,this.formData.typOrganizace||(this.formData.typOrganizace="VSECHNY_KRAJE")})}onTypOrganizaceSelect(i){i=="NEJVYSSI"&&(this.formData.okresniSoud=null,this.formData.druhOrganizace=null)}onDruhOrganizaceSelect(i){return D(this,null,function*(){this.initialLoaded&&(this.isLoading=!0,this.formData.okresniSoud=null,yield this.organizaceApi.getPodrizeneOrganizaceOrganizaceLov(i).then(s=>{this.okresniSoudy=[{nazev:"",kod:null},...s]}).catch(()=>{this.formErrorMessage=this.i18nextService.t("common:messages.DATA_LOADING_ERROR_0000")}).finally(()=>{this.isLoading=!1}))})}robotErrorMessage(i){i.key=="Enter"&&(this.formErrorMessage=this.i18nextService.t("common:messages.ROBOT_0000"))}submit(){this.cache.set(M,O({},this.formData),!0),this.formValidation.validateRizeni(this.formData,this.znackaDruhyVeciKod).then(()=>{this.router.navigate([Y.detailRizeni.fullPath],{queryParams:O({},this.formData)})}).catch(i=>this.formErrorMessage=this.i18nextService.t(`rizeni:messages.${i.message}`))}clearForm(){return D(this,null,function*(){this.formData=new R,yield this.onDruhOrganizaceSelect(null),this.formData.typOrganizace="VSECHNY_KRAJE",this.cache.set(M,O({},this.formData),!0)})}static \u0275fac=function(s){return new(s||v)(y(H),y(ae),y(re),y(oe),y(A),y(X),y(le),y(U),y(q),y(me))};static \u0275cmp=x({type:v,selectors:[["app-informace-o-rizeni"]],decls:52,vars:56,consts:[["formular","ngForm"],["znackaSenat",""],["znackaDruh",""],["znackaCislo",""],["znackaRok",""],[3,"isLoading","title"],["size","s"],["size","l"],["autocomplete","off",3,"keypress"],[1,"form-wrap"],[1,"form-control"],["for","typOrganizace",1,"label"],[1,"w-100",3,"valueChange","id","titleKey","valueKey","listData","value"],["for","druhOrganizace",1,"label"],[1,"w-100",3,"valueChange","id","titleKey","valueKey","disabled","listData","value"],["for","okresniSoud",1,"label"],[1,"form-znacka-wrap"],[1,"form-znacka"],[3,"valueChange","id","showError","value","maxLength"],[3,"valueChange","id","showError","value"],[1,"znacka-lomitko"],[3,"btnClear","btnSubmit","canSubmit"],["size","xl"],[3,"message","color"],["for","agenda",1,"label"]],template:function(s,e){if(s&1){let p=B();d(0,"hedgehog-gov-loading",5),l(1,"i18next"),r(2,"h1"),o(3),l(4,"i18next"),a(),d(5,"gov-spacer",6),r(6,"strong"),o(7),l(8,"i18next"),a(),d(9,"gov-spacer",7)(10,"app-fragment-dulezite-informace")(11,"gov-spacer",7),P(12,ge,2,2),r(13,"form",8,0),C("keypress",function(t){return f(p),u(e.robotErrorMessage(t))}),r(15,"div",9)(16,"div",10)(17,"label",11),o(18),l(19,"i18next"),a(),r(20,"hedgehog-gov-select",12),S("valueChange",function(t){return f(p),_(e.formData.typOrganizace,t)||(e.formData.typOrganizace=t),u(t)}),C("valueChange",function(t){return f(p),u(e.onTypOrganizaceSelect(t))}),a()(),r(21,"div",10)(22,"label",13),o(23),l(24,"i18next"),a(),r(25,"hedgehog-gov-select",14),S("valueChange",function(t){return f(p),_(e.formData.druhOrganizace,t)||(e.formData.druhOrganizace=t),u(t)}),C("valueChange",function(t){return f(p),u(e.onDruhOrganizaceSelect(t))}),a()(),r(26,"div",10)(27,"label",15),o(28),l(29,"i18next"),a(),r(30,"hedgehog-gov-select",14),S("valueChange",function(t){return f(p),_(e.formData.okresniSoud,t)||(e.formData.okresniSoud=t),u(t)}),a()(),d(31,"hr"),r(32,"div",10)(33,"label",15),o(34),l(35,"i18next"),a(),r(36,"div",16)(37,"div",17)(38,"hedgehog-gov-number-input",18,1),S("valueChange",function(t){return f(p),_(e.formData.cisloSenatu,t)||(e.formData.cisloSenatu=t),u(t)}),a(),r(40,"hedgehog-gov-input",18,2),S("valueChange",function(t){return f(p),_(e.formData.druhVeci,t)||(e.formData.druhVeci=t),u(t)}),a(),r(42,"hedgehog-gov-number-input",19,3),S("valueChange",function(t){return f(p),_(e.formData.bcVec,t)||(e.formData.bcVec=t),u(t)}),a(),r(44,"span",20),o(45,"/"),a(),r(46,"hedgehog-gov-number-input",19,4),S("valueChange",function(t){return f(p),_(e.formData.rocnik,t)||(e.formData.rocnik=t),u(t)}),a()()()(),P(48,fe,5,8,"div",10),a(),r(49,"app-fragment-tlacitka-formularu",21),C("btnClear",function(){return f(p),u(e.clearForm())})("btnSubmit",function(){return f(p),u(e.submit())}),a()(),d(50,"gov-spacer",22)(51,"app-informace-o-rizeni-popis-stranky")}if(s&2){let p=T(14);h("isLoading",e.isLoading)("title",m(1,42,"common:messages.DATA_LOADING_0002")),n(3),c(m(4,44,"rizeni:titles.informaceORizeni")),n(4),w(" ",m(8,46,"rizeni:pageSubtitle")," "),n(5),L(e.formErrorMessage?12:-1),n(6),c(m(19,48,"common:labels.typSoudu")),n(2),h("id","typOrganizace")("titleKey","nazev")("valueKey","kod")("listData",e.typOrganizace),z("value",e.formData.typOrganizace),n(3),c(m(24,50,"common:labels.krajskyVrchni")),n(2),h("id","druhOrganizace")("titleKey","nazev")("valueKey","kod")("disabled",(e.formData==null?null:e.formData.typOrganizace)=="NEJVYSSI")("listData",e.organizace),z("value",e.formData.druhOrganizace),n(3),c(m(29,52,"common:labels.okresniSoud")),n(2),h("id","okresniSoud")("titleKey","nazev")("valueKey","kod")("disabled",(e.formData==null?null:e.formData.typOrganizace)=="NEJVYSSI"||e.okresniSoudy.length==0)("listData",e.okresniSoudy),z("value",e.formData.okresniSoud),n(4),c(m(35,54,"common:labels.spisovaZnacka")),n(4),h("id","znackaSenat")("showError",!1),z("value",e.formData.cisloSenatu),h("maxLength",9),n(2),h("id","znackaDruh")("showError",!1),z("value",e.formData.druhVeci),h("maxLength",9),n(2),h("id","znackaCislo")("showError",!1),z("value",e.formData.bcVec),n(4),h("id","znackaRok")("showError",!1),z("value",e.formData.rocnik),n(2),L((e.formData.druhVeci=="NC"||e.formData.druhVeci=="nc")&&(e.formData==null?null:e.formData.typOrganizace)!="NEJVYSSI"&&(e.formData!=null&&e.formData.druhOrganizace)&&!(e.formData!=null&&e.formData.okresniSoud)?48:-1),n(),h("canSubmit",p.valid)}},dependencies:[j,I,E,J,Q,G,Z,K,F,ie,ee,$,te,V,b],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:50%}.hidden[_ngcontent-%COMP%]{visibility:hidden}form[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:column}@media screen and (min-width: 960px){form[_ngcontent-%COMP%]{align-items:end;flex-direction:row}}.form-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex:1 1 100%;max-width:100%}@media screen and (min-width: 960px){.form-wrap[_ngcontent-%COMP%]{min-width:500px;flex:1 1 50%;max-width:50%}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (max-width: 959px){.form-group[_ngcontent-%COMP%]{gap:1rem}}@media screen and (min-width: 960px){.form-group[_ngcontent-%COMP%]{flex-direction:row}}.form-znacka-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.znacka-lomitko[_ngcontent-%COMP%]{display:flex;place-items:center;font-size:x-large}.form-control[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-direction:column}@media screen and (min-width: 600px){.form-control[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%;gap:1rem;flex-direction:row}}.form-znacka[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media screen and (min-width: 400px){.form-znacka[_ngcontent-%COMP%]{flex-direction:row}}.label[_ngcontent-%COMP%]{place-content:center}@media screen and (min-width: 600px){.label[_ngcontent-%COMP%]{flex:1 1 160px;max-width:160px;min-width:160px}}"]})};export{se as InformaceORizeniComponent};
